---
title: "Geophysical data"
subtitle: "Where to find them ?"
author: "Cyril Gadal"
institute: "Institut de MÃ©canique des Fluides de Toulouse (IMFT), France"
format:
  revealjs:
    theme: [black, custom.scss]
    width: 1920
    height: 1080
    callout-icon: false
    slide-number: true
    template-partials:
      - title-slide.html
extra_javascript:
    - https://pyscript.net/latest/pyscript.js
---

## About me

- 2021 -- now: Postodctoral researcher, IMFT, Toulouse
    - Particle-laden (turbidity) currents
    - Experimental work


![Turbidity current building a deposit over time. Generated by the steady injection of a suspension](src/stationnary_turbidity_current.mp4){width=80%}


## About me

- 2021 -- now: Postdoctoral researcher, IMFT, Toulouse
    - Particle-laden (turbidity) currents
    - Experimental work

- 2017 -- 2020: PhD Student, IPGP, Paris
    - Sand dune patterns
    - Theory, experiments, numerical simulations and [geophysical data]{.fragment .highlight-red}

        ![Dunes gathering at the bottom of the Mazar Tagh (small mountain) in the Taklamacan desert, in China](src/DunePanorama_small.jpg){width=50%}




<!-- ## Various data types

:::: {.columns}

::: {.column width="40%"}
![The Blue Marble (NASA)](src/Earth_nasa.jpg){width=100%}
:::

::: {.column width="60%"}

:::: {.columns}

::: {.column width="50%"}

Objects:

::: {.incremental}
- [Topographical]{data-id="t1"}
- Meteorological
- Oceanographic
- Other [(seismic, geoid, geological, fires, ...)]{.small}
:::

:::

::: {.column width="40%"}

Origins:

::: {.incremental}
- Direct measurements
- Models
- Reanalyses
:::

:::
::::

Processing step:

::: {.incremental}
- Raw data [(not inverted, noised)]{.small}
- Pre-processed data [(physical quantity, denoised, but not a 'clean field')]{.small}
- Processed data [(gridded, interpolated, ready to use)]{.small}
:::

::: {.fragment}
::: {.important}
[Where to find them ?]{.boxed}
:::
:::

:::

:::: -->

## Various data types

:::: {.columns}

::: {.column width="40%"}
![The Blue Marble (NASA)](src/Earth_nasa.jpg){width=100%}
:::

::: {.column width="60%"}

<!-- #### EarthData (NASA): -->
- 9 topics (EarthData -- NASA):

::: {layout-nrow=3}

![Atmopshere](src/icons-NASA/atmosphere-icon.png){width="100px"}

![Biosphere](src/icons-NASA/biosphere-icon.png){width="100px"}

![Cryosphere](src/icons-NASA/cryosphere-icon.png){width="100px"}

![Human dimension](src/icons-NASA/human-dimensions-icon.png){width="100px"}

![Land surface](src/icons-NASA/land-surface-icon.png){width="100px"}

![Ocean](src/icons-NASA/ocean-icon.png){width="100px"}

![Solid Earth](src/icons-NASA/solid-earth-icon.png){width="100px"}

![Sun-Earth interactions](src/icons-NASA/sun-earth-interactions-icon.png){width="100px"}

![Terrestrial hydrosphere](src/icons-NASA/terrestrial-hydrosphere-icon.png){width="100px"}
:::

::: {.fragment}
::: {.important}
[Where to find them ?]{.boxed}
:::
:::

:::
::::

## Two global repositories

::: {layout-ncol=2 layout-valign="bottom"}
![<a href="https://www.earthdata.nasa.gov/" target="_blank"> NASA (US)</a>](src/EARTH_DATA_LOGO.png){width=600}

![<a href="https://www.copernicus.eu/en" target="_blank"> Copernicus (EU)</a>](src/copernicus_logo.png){width=600}
:::


:::{.fragment}
:::{.callout-note}
##  Different levels of Data processing (repository dependent)

- Level 0: Unprocessed instrument data
- Level 1: Time-referenced, georeferenced, annotated data
- Level 2: Derived geophysical variables at the same resolution and location as L1 source data.
- [Level 3: Variables mapped on uniform space-time grid scales, usually with some completeness and consistency.]{.fragment .highlight-red}
- [Level 4: Model output or results from analyses of lower-level data (e.g., variables derived from multiple measurements).]{.fragment .highlight-red}
:::
:::




::: {.notes}

- EARTHDATA
    - Showing different categories
    - Going into sea surface temperature
    - Showing filters (sorting by usage)
    - Ending on SRTM30 mission
- Copernicus
    - Showing different categories
    - Showing subsites
    - Ending on climate data center
:::


## Today

:::: {.columns}

::: {.column width="50%"}

<h4 style="text-align:center; margin: 30px"> Topographical data </h4>

![Lidar-derived Digital Elevation Model over Zion National Park, Utah (USGS)](src/zion_DEM2.jpg){width=100% height=600px}

:::
::: {.column width="50%"}

<h4 style="text-align:center; margin: 30px"> Meteorological data </h4>

<figure>
      <iframe width="100%" height="600px" style="margin-top:12px; margin-bottom:12px"
        src="https://embed.windy.com/embed2.html?lat=49.038&lon=7.427&detailLat=49.038&detailLon=7.427&width=650&height=450&zoom=5&level=surface&overlay=wind&product=ecmwf&menu=&message=&marker=&calendar=now&pressure=&type=map&location=coordinates&detail=&metricWind=default&metricTemp=default&radarRange=-1"
        frameborder="0"></iframe>
    
    <figcaption> Current wind flow over Europe (ECMWF forecast).</figcaption>
</figure>


:::
::::

## Topographical data

:::: {.columns .v-center-container}

::: {.column width="50%"}

![Lidar-derived **Digital Elevation Model** over Zion National Park, Utah (USGS)](src/zion_DEM2.jpg){width=100% height=600px}

:::


::: {.column width="50%"}

::: {.fragment}
:::{.callout-note}
## DEMs: Digital Elevation Models

- Gridded elevation data as $Z(x, y)$, $Z(lat, lon)$, etc..
<!-- - Not **necessarily** models ! -->
- Not cloud points (already 'interpolated/gridded')
- Not Discret Element Method :)

:::
:::

::: {.fragment}
:::{.callout-warning}
## Different origins (linked to spatial scale/resolution)

- Satellite data
- LIDAR-derived data (plane, drone, hand instruments)
- *Hand* measurements (Theodolite, GPS,  photogrammetry, ...)

:::
:::

:::
::::



## Topographical data 

:::: {.columns}

::: {.column width=50%}

:::{.callout-note}
## Best global coverage: SRTM

:::: {.columns}
::: {.column width=70%}

- Shuttle Radar Topography Mission
- horizontal resolution: $1'' \sim  30~\textrm{m}$
- only land
- vertical precision, complicated:
    - depend on the place
    - systematic bias, always positive on forested areas
    - $\sim 10~\textrm{m}$
- easy access: [EarthData](https://search.earthdata.nasa.gov/search/granules?p=C1000000240-LPDAAC_ECS&pg[0][v]=f&pg[0][gsk]=-start_date&q=SRTM&tl=1675071224.862!3!!){target="_blank"} or [Map dowload](https://dwtkns.com/srtm30m/){target="_blank"}

:::

::: {.column width=30%}

![Illustration of the space shutlle Endeavour orbiditng above the Earth (NASA)](src/640px-Shuttle_Radar_Topographic_Mission_(SRTM)_Illustration.jpg){width=100%}
:::
::::

:::

::: {.fragment}
:::{.callout-tip}
## successor: NASADEM

- released in 2020
- less holes in dataset, less vertical error
- more extensive (spatial vertical precision, calculation of slope/curvature)
- access: [EarthData](https://search.earthdata.nasa.gov/search?q=NASADEM){target="_blank"} 

:::
:::

:::

::: {.column width=50%}

::: {.fragment}
:::{.callout-caution}
## Formats: .hgt or NETCDF

- .hgt: specific to SRTM mission
    - not a format, just an extension (see [here](https://www2.jpl.nasa.gov/srtm/faq.html){target="_blank"})
    - "raw" format (no headers and not compressed)
    - no metadata included

<br>

- NETCDF (.nc): Network Common Data Form
    - open format
    - can be compressed, optimized for gridded data
    - include metadata
    - not always available yet

:::
:::

:::
::::

## Topographical data: an example


::: {.container-hv-center}

- [get data](https://search.earthdata.nasa.gov/search?q=SRTM){target="_blank"}
- [see notebook](http://localhost:8888/notebooks/notebooks/PMMH_talk_data.ipynb){target="_blank"} (must start `jupyter-notebook` to open)
:::

::: {.notes}

Login EarthData:

    - cyril_gadal_imft
    - mdp: usual

:::

## Meteorological data

:::: {style="max-width: 60%; margin: 0 auto;"}

::: {.callout-tip}
## Different origins

:::: {.columns}

::: {.column width=50%}
- In situ observations
- Satellite observations
- model forecasts
:::
::: {.column width=50%}
::: {.fragment .highlight-red}
- Reanalyses: 
    - data assimilation +  models
    - past (+ forecasts) 
:::
:::
::::

:::
::::

::: {.fragment}
<center>

<iframe width="60%" height="650px" src="https://climate.copernicus.eu/sites/default/files/2020-01/2019.11.21_ECMWF%20Reanalysis%20video_with%20caption_v4_IOB.mp4" frameborder="0" allowfullscreen></iframe>

</center>
:::

## Meteorological data: Reanalyses


::: {.fragment}
:::: {.columns}

::: {.column width=50%}

::: {.callout-note #nomargin}
## Global datasets

- ERA series (EU):
    - latest: ERA5-Land, hourly, 9 km mesh
- MERRA series (US):
    - latest: MERRA-2, hourly, 30 km mesh
- GLDAS (US):
    - 3 hours, 30 km mesh 

:::

:::

::: {.column width=50%}

::: {.callout-note #nomargin}
## Local datasets

- CERRA: 
    - Europe, 3 hours, 5 km mesh
- CARRA:
    - Arctic, 3 hours, 3.5 km mesh
- NLDAS: 
    - USA, 13 km mesh
- many others ...
:::

:::
::::
:::

::: {.fragment}

:::: {style="max-width: 70%; margin: 0 auto;"}

::: {.callout-warning #nomargin}
## Formats

:::: {.columns}

::: {.column width=50%}
- GRIB:
    - **NOT** a file format,  just a file with GRIB messages
    - no metadata included
    - often difficult to read (must reshape data, etc ..)
:::
::: {.column width=50%}
- NETCDF (.nc): Network Common Data Form
    - open format
    - can be compressed, optimized for gridded data
    - include metadata
    - not always available yet
:::
::::

:::

::::
:::




::: {.notes}
- **product** resoltion, not model resolution
:::




## Meteorological data: an example

::: {.container-hv-center}

- [get data](https://cds.climate.copernicus.eu/#!/home){target="_blank"}
- [see notebook](http://localhost:8888/notebooks/notebooks/PMMH_talk_data.ipynb){target="_blank"} (must start `jupyter-notebook` to open)
:::


## Final notes

::: {.v-center-container}
::: {style="max-width:70%"}

- Same principle for other data types

::: {.callout-caution appearance="minimal"}

- protocol depends on repository
- especially true in Europe/Copernicus
:::

- API access available most of time
- many other repositories and models


<br>
<br>

::: {.fragment}
::: {.important .boxed}
Questions, other examples ?
:::
:::

:::
:::
